"use strict";var Yzm=document.querySelector(".yanzm"),Huan=document.querySelector(".huan"),oPwd=document.querySelector(".upwd"),rPwd=document.querySelector(".rpwd"),oQh=document.querySelector(".qiehuan"),Of=document.querySelector(".s3"),oForm=document.forms[0],eles=oForm.elements,flagName=null;eles[0].onblur=function(){var e=eles[0].value;flagName=/^\w{6,13}$/.test(e)?(s1.innerHTML="用户名可使用",s1.style.color="red",console.log("用户名合法"),!0):(s1.innerHTML="输入位数不足",!(s1.style.color="red"))};var regNum=/^\d+$/,regLetter=/^[a-z]+$/i,regChar=/^\W+$/,_regNum=/\d+/,_regLetter=/[a-z]+/i,_regChar=/\W+/,flagPwd=null;eles[1].onblur=function(){var o=this.value,e=document.querySelector(".z1"),t=document.querySelector(".z2"),l=document.querySelector(".z3");e.style.backgroundColor="deeppink",t.style.backgroundColor="deeppink",l.style.backgroundColor="deeppink",o.length<6||(regNum.test(o)||regLetter.test(o)||regChar.test(o)?(e.style.backgroundColor="orange",e.innerHTML="低",console.log("密码验证通过，安全度低")):_regNum.test(o)&&_regLetter.test(o)&&_regChar.test(o)?(l.style.backgroundColor="orange",l.innerHTML="高",console.log("密码验证通过，安全度高")):(t.style.backgroundColor="orange",t.innerHTML="中",console.log("密码验证通过，安全度中等")),eles[2].onblur=function(){var e=this.value;o==e?(flagPwd=!0,console.log("重复密码正确"),Of.innerHTML="重复密码正确"):(flagPwd=!1,console.log("重复密码错误"),Of.innerHTML="重复密码错误")})},oQh.onclick=function(){"password"==oPwd.getAttribute("type")?(oPwd.setAttribute("type","text"),oQh.setAttribute("title","隐藏密码"),rPwd.setAttribute("type","text")):(oPwd.setAttribute("type","password"),oQh.setAttribute("title","显示密码"),rPwd.setAttribute("type","password"))};var yzmqd=null;function randomNum(e,o){return parseInt(Math.random()*(o-e+1)+e)}Huan.onclick=function(){for(var o="",e=0;e<4;e++)o+=randomNum(0,9);Yzm.innerHTML=o,eles[3].onblur=function(){var e=eles[3].value;yzmqd=o==e?(console.log("验证码输入正确"),!0):(console.log("验证码错误"),!1)}};var Btn=document.querySelector(".btn");Btn.onclick=function(){if(1==flagName&&1==flagPwd&&1==yzmqd&1==eles[4].checked){console.log(flagName),console.log(flagPwd),console.log(yzmqd),console.log(eles[4].checked),console.log("开始向数据库请求");var e=document.querySelector(".uname"),o=document.querySelector(".upwd");console.log(e.value),console.log(o.value),axios({method:"get",url:"http://10.9.48.110/ceshi12/LONKA/php/register.php",data:{uname:e.value,upwd:o.value}}).then(function(e){console.log(e),console.log(e.state),0==e.state?alert("用户名存在"):(alert("注册成功"),location.href=" http://10.9.48.110/ceshi12/LONKA/html/denglu.html")})}else console.log(flagName),console.log(flagPwd),console.log(yzmqd),console.log(eles[4].checked),alert("请规范你的输入")};